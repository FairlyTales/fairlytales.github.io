function removeNoJsFallback(){document.querySelector(".main-nav").classList.remove("main-nav--no-js"),document.querySelector(".page-header").classList.remove("page-header--no-js")}function removeLogoLinksMobileVersion(){document.querySelector(".page-header__logo-link-mobile-only").removeAttribute("href"),document.querySelector(".page-header__logo-link").removeAttribute("href")}function navMenuOpenClose(){const e=document.querySelector(".main-nav"),t=document.querySelector(".page-header"),o=document.querySelector(".page-header__hamburger > use");t.addEventListener("click",(t=>{e.classList.contains("main-nav--closed")?(e.classList.remove("main-nav--closed"),e.classList.add("main-nav--opened"),o.setAttribute("href","img/sprite/sprite.svg#hamburger_close")):(e.classList.add("main-nav--closed"),e.classList.remove("main-nav--opened"),o.setAttribute("href","img/sprite/sprite.svg#hamburger_open"))}))}function imgCompareButtons(){const e=document.querySelector(".comparison__button--before"),t=document.querySelector(".comparison__button--after"),o=document.querySelector(".comparison__img--before"),a=document.querySelector(".comparison__img--after"),n=document.querySelectorAll(".comparison__img"),r=document.querySelector(".comparison__slider-background");function s(){o.classList.add("visually-hidden"),a.classList.remove("visually-hidden"),t.classList.add("comparison__button-indicator-after"),e.classList.remove("comparison__button-indicator-before")}function c(){o.classList.remove("visually-hidden"),a.classList.add("visually-hidden"),t.classList.remove("comparison__button-indicator-after"),e.classList.add("comparison__button-indicator-before")}e.addEventListener("click",c),t.addEventListener("click",s),n.forEach((o=>o.addEventListener("click",(o=>{e.classList.contains("comparison__button-indicator-before")?s():t.classList.contains("comparison__button-indicator-after")&&c()})))),r.addEventListener("click",(e=>{e.offsetX>=42?s():c()}))}function catalogExpandCollapse(){const e=document.querySelector(".catalog__expand-button"),t=document.querySelectorAll(".catalog__item "),o=document.querySelectorAll(".catalog__item--hidden");let a=!0,n=0;t.forEach((e=>{e.classList.contains("catalog__item--hidden")||e.classList.contains("catalog__item--expand")||(n=e.offsetTop)})),e.addEventListener("click",(function(){a?(o.forEach((e=>{e.style.display="grid"})),window.scrollTo({top:n-160,behavior:"smooth"}),e.querySelector(".catalog__expand-heading").innerText="Скрыть 100500 товаров",e.querySelector(".catalog__expand-text").innerText="Теперь я знаю что вкусов гораздо больше!",e.querySelector(".catalog__btn-expand").innerText="Скрыть товары",a=!1):(o.forEach((e=>{e.style.display="none"})),e.scrollIntoView({behavior:"smooth",block:"start"}),e.querySelector(".catalog__expand-heading").innerText="Показать ещё 100500 товаров",e.querySelector(".catalog__expand-text").innerText="На самом деле вкусов гораздо больше!",e.querySelector(".catalog__btn-expand").innerText="Показать все",a=!0)}))}function catalogShowAmountOfItems(e){const t=document.querySelectorAll(".catalog__item--hidden"),o=document.querySelectorAll(".catalog__item").length-1-t.length;if(e>o){const a=e-o;for(let e=0;e<a;e++)t[e].classList.remove("catalog__item--hidden")}}function scrollMenuToggle(){const e=document.querySelector(".page-header");let t=0;window.addEventListener("scroll",(()=>{const o=window.pageYOffset;o<=0?e.classList.remove("page-header--scroll-up"):(o>t&&!e.classList.contains("page-header--scroll-down")?(e.classList.remove("page-header--scroll-up"),e.classList.add("page-header--scroll-down")):o<t&&e.classList.contains("page-header--scroll-down")&&(e.classList.remove("page-header--scroll-down"),e.classList.add("page-header--scroll-up")),t=o)}))}function formSubmit(){const e=document.querySelector("form"),t=document.querySelectorAll("[required]"),o=document.querySelector(".program__submit-button");t.forEach((e=>e.addEventListener("input",(t=>{e.classList.contains("program__text-input--error")&&e.classList.remove("program__text-input--error")})))),o.addEventListener("click",(a=>{a.preventDefault();let n=!0;t.forEach((e=>{e.validity.valid||(e.scrollIntoView({behavior:"smooth",block:"end"}),e.classList.add("program__text-input--error"),n=!1)})),n&&(e.submit(),o.disabled=!0)}))}function checkDeviceWidth(){const e=window.matchMedia("(min-width: 768px)"),t=window.matchMedia("(min-width: 1400px)"),o=document.querySelector(".page-header");if(t.matches)switch(o.id){case"js-indexPage":imgCompareButtons();break;case"js-catalogPage":catalogShowAmountOfItems(7),catalogExpandCollapse();break;case"js-formPage":formSubmit()}else if(e.matches)switch(o.id){case"js-indexPage":imgCompareButtons();break;case"js-catalogPage":catalogShowAmountOfItems(5),catalogExpandCollapse();break;case"js-formPage":formSubmit()}else switch(removeLogoLinksMobileVersion(),navMenuOpenClose(),o.id){case"js-indexPage":imgCompareButtons();break;case"js-catalogPage":catalogExpandCollapse();break;case"js-formPage":formSubmit()}}removeNoJsFallback(),scrollMenuToggle(),checkDeviceWidth();