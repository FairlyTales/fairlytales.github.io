const tabletWidth=window.matchMedia("(min-width: 768px)"),desktopWidth=window.matchMedia("(min-width: 1200px)"),currentPage=document.querySelector(".page-header"),navMenu=document.querySelector(".main-nav"),toggleNavMenu=document.querySelector(".main-nav__toggle"),slide=document.querySelectorAll(".slider__item"),sliderButtonAdvantages1=document.querySelector("#advantages-slide-1"),sliderButtonAdvantages2=document.querySelector("#advantages-slide-2"),sliderButtonAdvantages3=document.querySelector("#advantages-slide-3"),sliderButtonReviews1=document.querySelector("#reviews-slide-1"),sliderButtonReviews2=document.querySelector("#reviews-slide-2"),sliderButtonReviews3=document.querySelector("#reviews-slide-3"),newsItems=document.querySelectorAll(".news__item"),newsButton=document.querySelector(".news__button-to-all");let newsToggleStatus=0,alwaysShownNews=2;
//! not in use now because I remembered that calc(50vw) exist. left it here as a reminder for my future self =)
const prevButton=document.querySelector(".reviews__prev-button"),nextButton=document.querySelector(".reviews__next-button"),cellsWithBrackets=document.querySelectorAll(".price__table-comment");function removeNoJsFallback(){navMenu.classList.remove("main-nav--no-js")}
//! not in use now because I remembered that calc(50vw) exist. left it here as a reminder for my future self =)
function removeBracketsInTable(){for(let e=0;e<cellsWithBrackets.length;e++)cellsWithBrackets[e].textContent=cellsWithBrackets[e].textContent.replace(/[\])}[{(]/g,"")}function rearrangeNewsList(){newsItems[2].classList.remove("visually-hidden")}function reviewsSliderNextPrevButtons(){prevButton.addEventListener("click",(function(e){e.preventDefault(),sliderButtonReviews1.checked?(sliderButtonReviews3.checked=!0,slide[3].classList.add("visually-hidden"),slide[5].classList.remove("visually-hidden")):(sliderButtonReviews2.checked&&(sliderButtonReviews1.checked=!0,slide[4].classList.add("visually-hidden"),slide[3].classList.remove("visually-hidden")),sliderButtonReviews3.checked&&(sliderButtonReviews2.checked=!0,slide[5].classList.add("visually-hidden"),slide[4].classList.remove("visually-hidden")))})),nextButton.addEventListener("click",(function(e){e.preventDefault(),sliderButtonReviews1.checked?(sliderButtonReviews2.checked=!0,slide[3].classList.add("visually-hidden"),slide[4].classList.remove("visually-hidden")):sliderButtonReviews2.checked?(sliderButtonReviews3.checked=!0,slide[4].classList.add("visually-hidden"),slide[5].classList.remove("visually-hidden")):sliderButtonReviews3.checked&&(sliderButtonReviews1.checked=!0,slide[5].classList.add("visually-hidden"),slide[3].classList.remove("visually-hidden"))}))}function navMenuControls(){toggleNavMenu.addEventListener("click",(function(e){navMenu.classList.contains("main-nav--closed")?(navMenu.classList.remove("main-nav--closed"),navMenu.classList.add("main-nav--opened")):(navMenu.classList.add("main-nav--closed"),navMenu.classList.remove("main-nav--opened"))}))}function advantagesSliderToggle(){sliderButtonAdvantages1.addEventListener("change",(function(e){slide[0].classList.remove("slider--hidden"),slide[1].classList.add("slider--hidden"),slide[2].classList.add("slider--hidden")})),sliderButtonAdvantages2.addEventListener("change",(function(e){slide[0].classList.add("slider--hidden"),slide[1].classList.remove("slider--hidden"),slide[2].classList.add("slider--hidden")})),sliderButtonAdvantages3.addEventListener("change",(function(e){slide[0].classList.add("slider--hidden"),slide[1].classList.add("slider--hidden"),slide[2].classList.remove("slider--hidden")}))}function reviewsSliderToggle(){sliderButtonReviews1.addEventListener("change",(function(e){slide[3].classList.remove("visually-hidden"),slide[4].classList.add("visually-hidden"),slide[5].classList.add("visually-hidden")})),sliderButtonReviews2.addEventListener("change",(function(e){slide[3].classList.add("visually-hidden"),slide[4].classList.remove("visually-hidden"),slide[5].classList.add("visually-hidden")})),sliderButtonReviews3.addEventListener("change",(function(e){slide[3].classList.add("visually-hidden"),slide[4].classList.add("visually-hidden"),slide[5].classList.remove("visually-hidden")}))}function expandCollapseNews(){newsButton.addEventListener("click",(function(e){if(0==newsToggleStatus){e.preventDefault();for(let e=2;e<newsItems.length&6!=e;e++)newsItems[e].classList.remove("visually-hidden"),newsItems[e-1].classList.add("news__item--with-underline");newsButton.textContent="Скрыть",newsToggleStatus=1}else{e.preventDefault(),alwaysShownNews=desktopWidth.matches?3:2;for(let e=alwaysShownNews;e<newsItems.length&5!=e;e++)newsItems[e].classList.add("visually-hidden"),newsItems[e-1].classList.remove("news__item--with-underline");newsButton.textContent="Показать все",newsToggleStatus=0}}))}function checkDeviceWidth(){removeNoJsFallback(),desktopWidth.matches?"js-index"==currentPage.id?(rearrangeNewsList(),expandCollapseNews(),reviewsSliderToggle(),reviewsSliderNextPrevButtons()):"js-photo"==currentPage.id?removeBracketsInTable():currentPage.id:tabletWidth.matches?(removeBracketsInTable(),"js-index"==currentPage.id?(expandCollapseNews(),reviewsSliderToggle(),reviewsSliderNextPrevButtons()):"js-photo"==currentPage.id?removeBracketsInTable():currentPage.id):(navMenuControls(),"js-index"==currentPage.id?(expandCollapseNews(),advantagesSliderToggle(),reviewsSliderToggle()):"js-photo"==currentPage.id||currentPage.id)}checkDeviceWidth();